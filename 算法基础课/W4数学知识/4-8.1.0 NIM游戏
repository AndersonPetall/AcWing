N-position(Next)先手必胜状态
  当前轮move的人有必胜的策略, 即是 先手可保证必胜/先手必胜
P-position(Previous)先手必败状态
  上一轮move的人有必胜的策略, 即是 后手可保证必胜/先手必败
定义: 
  无法进行任何移动的局面(terminal position) 是 P-position
  可以移动到P-position的局面是N-position
  所有移动都导致N-position的局面是P-position
  
Bouton's Theorem：局面为先手必败当且仅当各堆石子数异或和为0。
  异或(^): 相同为0,相异为1(二进制)

证明(与定义一一对应):
  最终的局面(失败的局面),各堆石子数异或和为0(没有石子)
  若a1^a2^a3^...an = x != 0, 那么玩家必然可以拿走一定数量的石子使得各堆石子数异或和为0(x = 0)
    假设x的二进制中最高位1在第k位,那么在那么在a1,a2,…,an中,必然有一个数ai,它的第k为时1(ai代表第i堆石子), 则 ai^x < ai
    ==> 拿走 ai-(ai^x) 个石子, 那么第i堆石子剩下ai-(ai-ai^x) = ai^x 个石子
    ==> a1^a2^a3^...^(ai^x)^...an = x^x = 0
  若a1^a2^a3^...an = x = 0, 那么无论玩家怎么操作,各堆石子数异或和均不为0(x != 0)
    反证法: 假设玩家从第i堆石子中拿走若干个,结果仍然是0.
      在此条件下,假设第i堆石子剩下a个,题目中要求至少拿一个,所以0<=a<ai 而且 a1^a2^a3^...^(a)^...an = 0
      ==>  a1^a2^a3^...^(ai)^...an = a1^a2^a3^...^(a)^...an, 根据异或的满足消除率, 则 ai = a, 与 a < ai 矛盾
Reference Url:
  https://www.cnblogs.com/exponent/articles/2141477.html
  https://zhuanlan.zhihu.com/p/358979118
  https://www.bilibili.com/video/BV11U4y177Bj/
  
  
举例理解:
NIM游戏: n堆石子,每堆石子数量为a1,a2,...an. 两个玩家,轮流从某堆石子中取出至少一个石子. 若无法取出石子,则失败
  若n = 1;
    先手必胜
  若n = 2;
    若 a1 = a2, 后手采取 跟随策略(与先手拿相同的石子数量), 则先手必败
    若 a1 !- a2, 先手取出石子至 a1 = a2 的情况,并随后采取跟随策略, 则先手必胜
  若n = 3;
    [1,1,x]  ==>  先手必胜
    [1,2,2]  ==>  先手必胜
    [1,2,3]
      [0,a2,a3]  ==>  先手必败
      [1,1,3]  ==>  先手必败
      [1,2,2]  ==>  先手必败
    [1,2,x](x>3)  ==>  先手必胜 (先手取出石子至 x = 3 的情况)
  ....
已知当 n=2, a1 = a2时,先手必败, 假设此局势为[平衡],则 P([a1]) = P([a2])
  ==> n=2, a1 != a2时,假设a1 < a2, 则 P([a1]) < P([a2])
当n=3, [1,2,3]时,先手必败, 此局势也应该为[平衡]
  若将游戏拆分为[1,2] + [3] 两个游戏, 则 P([1+2]) = P([3])
  ==> 对于n=3, [1,2,x], 若x<3,则P([1+2]) > P([x]);若x>3,则P([1+2]) < P([x])
    
==>
  若 a1^a2^...an = 0, 则为平衡状态, 先手必败
  若 a1^a2^...an != 0, 则不为平衡状态, 先手必胜
  
  
  
NIM游戏进阶:
  台阶NIM游戏: n堆石子分布在n个台阶上,每堆石子数量为a1,a2,...an. 两个玩家,轮流从某个台阶上的石子堆中取出至少一个石子到下一个台阶. 已经拿到地面的台阶不能再拿. 若无法取出石子,则失败
  
  问题关键: 只用考虑奇数台阶
    当玩家1从偶数台阶i 移动一定数量到台阶i-1 的时候,玩家2可以从台阶i-1移动相同的数量到台阶i-2,相当于没有操作((i-2)-->0)
    当玩家1从奇数台阶i 移动一定数量到台阶i-1 的时候, (i-1)-->0 玩家2 可能无法操作,即失败
  抽象举例: 所有奇数台阶为台阶1, 所有偶数台阶为台阶2
  
Reference Url:
  https://www.cnblogs.com/lucky-light/p/16512304.html
